# SEE-V2X Dataset

This is the official repository of SenSys'25 paper. "SEE-V2X: A Cross-Layer Dataset for Sidelink V2X Communication".

Supoorted by "Anonymous lab".

## Get Access to the Dataset
Please check here [Dataset](https://drive.google.com/drive/u/1/folders/1gAFsjYsjOiEH-U50wPoFzfS9-YYh_UwL) to get access to the dataset.

## Dataset Overview
SEE-V2X is a cross-layer dataset, which includes the application layer network traces generated by the C-V2X radio, C-V2X MAC layer traces and Sidelink Control Information (SCI) captured by USRP B210. 

The dataset includes 4 scenarios in total:
- Indoor AllConfigs
  - Include all the possible comniations of parameters as shown in the figure below. 
  The data collection period for each test is around 30 seconds.
  ![Indoor_AllCombos](./figures/allcombos.png)


- Indoor TimeExtension
  - We pick certain representative configurations and extend the data collection duration to 1 hour.

   <!-- The selected configurations are shown in the table below. -->

<!-- | Cases      | Description                                                                                                                                        |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| Scenarios  | The configurations are the same as the outdoor scenarios                                                                                             |
| Throughput | 4 Tx participants, priority 0, reservation 20 ms, Tx interval 20 ms and the packet length  (100, 500, 1000, 1470, 2000, 3000, 4000, 5000, 6000, 7000, 8000, 8140) bytes.                          |
| IPG        | 4 Tx participants, priority 0, reservation 20 ms, packet length 4000 bytes and  the Tx interval (10, 20, 50, 100) ms. |
| Priority   | 4 Tx participants, reservation 20 ms, packet length 4000 bytes, Tx interval 20 ms and the priority (0, 1, 2, 3, 4, 5, 6, 7).  | -->

- Outdoor ParkingLot
  - We pick 10 representative cases and collect data in a parking lot. This scneario doesn't have GNSS coordinates.

- Outdoor Intersection
  - We pick 10 presentative cases and collect data in a busy intersection. This test has GNSS coordinates generated by a high-end IMU, Xsens.

For more details about configurations, please see our paper.

## Dataset Detail
### Structure
The dataset is organized in the following structure:
```bash
.
├── indoor_allconfigs
│   └── 1_tx
│   └── 2_tx
│   └── 3_tx
│   └── 4_tx
├── indoor_timeExtension
│   ├── tx_interval
│   ├── priority
│   ├── scenario
│   └── packet_size
├── outdoor_intersection
│   ├── GNSS
│   ├── intersection_1
│   ├── intersection_10
│   ├── intersection_2
│   ├── intersection_3
│   ├── intersection_4
│   ├── intersection_5
│   ├── intersection_6
│   ├── intersection_7
│   ├── intersection_8
│   ├── intersection_9
│   └── parameters.csv
└── outdoor_parkinglot
    ├── 1_tx
```
You can download one and decompress it by using ```tar -xvf filename.tar.gz```. All scenarios include the following files:

- tx_[UE].csv
- rx_[UE1]\_tx\_[UE2]\_[Application].csv
- mac.pcap
- sci.csv
- parameters.csv

For the outdoor intersection scenario, the GNSS coordinates are also included and stored in the ```GNSS``` folder. The GNSS coordinates are collected in a sampling rate of 100 Hz.

Besides, there will a ```parameters.csv``` in each scnearios, which includes the parameters (configurations) used in each test.

Except for the MAC layer traces, the other files are in CSV format We provide the detailed description of each file below.

### tx_[UE].csv
This file is the application layer trace of the transmitter, which is generated by the C-V2X radio. The log includes the following fields:
- tx_equipment_id: The identity of the transmitter.
- seq_num: The transmitting packet sequence number.
- priority: The transmitting packet priority, which affects the C-V2X radio transmitting behavior.
- timestamp: The transmitting packet timestamp.
- channel_busy_percentage: The channel busy percentage reported by the C-V2X radio.
- packet_length: The transmitting packet length, in bytes.

### rx_[UE1]\_tx\_[UE2]\_[Application].csv
This is the end-to-end, receiver side application layer trace. The log is generated by ```UE1``` and includes the E2E network metrics of ```UE2->UE1``` of ```Application``` (optional). The log includes the following fields:
- rx_timestamp (us): The timestamp when the packet is received.
- latency (ms): Latency = rx_timestamp - tx_timestamp
- per_ue_loss_pct (%): The packet loss rate for ```UE2```.
- ipg (ms): The inner packet gap (jitter).
- tx_equipment_id: The identity of the transmitter.
- tx_seq_num: The sequence number of the transmitter.
- tx_priority: The transmitted packet priority.
- tx_timestamp (us): The transmitted packet timestamp.
- channel_busy_percentage: The channel busy percentage reported by the C-V2X radio at the receiver side.
- packet_length: The transmitted packet length, in bytes.
- **avg_throughput(10ms)**: The average throughput in the last 10 ms, in bits per second.
- **avg_throughput(100ms)**: The average throughput in the last 100 ms, in bits per second.
- **avg_packet_loss(10ms)**: The average packet loss rate in the last 10 ms.
- **avg_packet_loss(100ms)**: The average packet loss rate in the last 100 ms.
- **extra**: Indication of whether this row is inserted by the script for analysis. 1 means inserted, 0 means original data.

The bold fields are not included in the original data, they are added for analysis convenience.

### mac.pcap
This is the C-V2X MAC layer trace captured by the USRP B210, which can be read by Wireshark. MAC layer handles the radio resource management, scheduling, and the data link layer functions.

### sci.csv
This is the sidelink control information captured by the USRP B210. SCI is an important information used in C-V2X to schedule the sidelink resources automatically between UEs without a central scheduler. The log includes the following fields:
- **timestamp**: The timestamp in us when the USRP captures the SCI packet over the air. 
- priority: Determines the max tolerated latency for the packet.
- resource_resv: The resource reservation period in the SPS scheudling.
- freq_resourece: The frequency resource used by the packet.
- time_gap: The time gap between the initial transmission and the retransmission.
- mcs_idx: The modulation and coding scheme index.
- retransmission: Indicates whether the packet is a retransmission.
- transmission_format: Indicates the SCI format.
- **sf_idx**: The subframe index.
- **pssch_start**: The starting position of the PSCCH 
- **nof_prb_pssch**: The number of PRBs used by the packet.
- **N_x_id**: The code used to do scrambling.

The bold fields are not included in the original SCI packet, they are added for analysis convinence. For more details about each field in SCI, please refer to the 3GPP TS 36.212.

## Example usage
In the scripts folder, we provide some basic utils to compute network metrics and visualize the data (e.g., channel occupy status, packet loss rate, etc.).
The example usage is provided in the ```showResults.ipynb``` . For the channel occupy status, the figure is interactive, you can drag or zoom in/out. 

![Channel Occupy Example](./figures/RB.png)

All scripts are tested on Ubuntu 22.04:
- Python 3.13.0
  - jupyter 1.1.1
  - numpy 2.1.2
  - pandas 2.2.3
  - matplotlib 3.9.2
  - bokeh 3.6.0 

## Citation
If you use this dataset, please cite our paper.
```
TBD
```
